# golang GMP

## 自己总结

传统的线程问题：

1. 创建和销毁都是在内核态操作的。所以如果有大量的线程被创建和销毁就会占用很多 CPU 的时间
2. 每个线程都至少需要1M的内存，大量创建会导致大量内存被占用。

解决思路：创建线程池，做到线程共用。

内核空间和用户空间，内核态线程和用户态线程

操作系统会给一个进程分配一块空间。这块空间又分为用户空间和内核空间，用户空间用于程序运行，而内核空间用于系统调用。
当需要执行任意的IO操作时，都需要从用户态切换至内核态进行操作。

与之对应的是，线程也分为用户态线程和内核态线程，一个用户态的线程必须绑定内核态的线程才能被执行。因为CPU 只能识别到内核态的线程。

协程指的就是用户态线程，一个内核态的线程可以绑定多个协程。将多个协程绑定到一个线程上便实现了线程的。

进程和线程都是抢占式调度，协程调度器是由用户实现的。

## 核心概念

-
- **G**: G 指的就是 goroutine 。
